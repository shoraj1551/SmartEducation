{% extends "layouts/dashboard_base.html" %}

{% block title %}Learning Preferences - SmartEducation{% endblock %}

{% block content %}
<div class="settings-container">
    <div class="settings-header">
        <h1>Learning Preferences</h1>
        <p>Tailor the SmartEdu experience to your learning style.</p>
    </div>

    <div class="settings-section">
        <div class="section-title">
            <i class="fas fa-clock"></i>
            Preferred Learning Time
        </div>
        <div class="settings-section">
            <div class="section-title">
                <i class="fas fa-clock"></i>
                Preferred Learning Time
            </div>
            <div class="time-grid">
                <div class="time-option" data-time="Morning">
                    <i class="fas fa-sun"></i>
                    <span>Morning Owl</span>
                    <span class="time-badge">5 AM - 11 AM</span>
                </div>
                <div class="time-option" data-time="Deep Focus">
                    <i class="fas fa-crosshairs"></i>
                    <span>Deep Focus</span>
                    <span class="time-badge">9 AM - 5 PM</span>
                </div>
                <div class="time-option" data-time="Night">
                    <i class="fas fa-moon"></i>
                    <span>Night Owl</span>
                    <span class="time-badge">7 PM - 1 AM</span>
                </div>
            </div>
            <div class="preference-explanation" id="timeExplanation">
                <div class="explainer-icon"><i class="fas fa-info-circle"></i></div>
                <div class="explainer-text">
                    <h4 id="explainerTitle">Select your rhythm</h4>
                    <p id="explainerBody">We'll adapt notifications and AI suggestions to match your peak energy hours.
                    </p>
                    <div class="rules-list" id="explainerRules" style="display:none;">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="settings-section">
        <div class="section-title">
            <i class="fas fa-brain"></i>
            Engagement Depth
        </div>
        <div class="setting-row">
            <div class="setting-info">
                <h4>Daily Reminders</h4>
                <p>Stay on track with personalized learning pings.</p>
            </div>
            <label class="switch">
                <input type="checkbox" id="daily_reminders">
                <span class="slider"></span>
            </label>
        </div>
        <div class="setting-row">
            <div class="setting-info">
                <h4>AI Insight Summaries</h4>
                <p>Get automated summaries of your weekly progress.</p>
            </div>
            <label class="switch">
                <input type="checkbox" id="ai_insights">
                <span class="slider"></span>
            </label>
        </div>
        <div class="setting-row">
            <div class="setting-info">
                <h4>Community Milestones</h4>
                <p>See how you compare with other learners.</p>
            </div>
            <label class="switch">
                <input type="checkbox" id="community_milestones">
                <span class="slider"></span>
            </label>
        </div>
    </div>

    <div class="settings-section">
        <div class="section-title">
            <i class="fas fa-universal-access"></i>
            Interface Style
        </div>
        <div class="setting-row">
            <div class="setting-info">
                <h4>Reduced Motion</h4>
                <p>Disable complex animations for better focus.</p>
            </div>
            <label class="switch">
                <input type="checkbox" id="reduced_motion">
                <span class="slider"></span>
            </label>
        </div>
        <div class="setting-row">
            <div class="setting-info">
                <h4>High Contrast UI</h4>
                <p>Improve visibility with increased color depth.</p>
            </div>
            <label class="switch">
                <input type="checkbox" id="high_contrast">
                <span class="slider"></span>
            </label>
        </div>
    </div>

    <div style="display: flex; justify-content: flex-end; margin-top: 1rem;">
        <button class="primary-btn nav-btn" id="savePrefs" style="padding: 1rem 2.5rem;">
            <i class="fas fa-sync-alt"></i> Sync Preferences
        </button>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/js/preferences.js"></script>
{% endblock %}