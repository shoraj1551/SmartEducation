{% extends "layouts/dashboard_base.html" %}

{% block title %}Achievements - SmartEducation{% endblock %}

{% block content %}
<header class="top-nav"
    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 3rem;">
    <div class="search-container" style="position: relative; width: 400px;">
        <i class="fas fa-search"
            style="position: absolute; left: 1.25rem; top: 50%; transform: translateY(-50%); color: rgba(255, 255, 255, 0.3);"></i>
        <input type="text" class="search-input" placeholder="Search achievements..."
            style="width: 100%; padding: 0.9rem 1rem 0.9rem 3rem; background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; color: white; outline: none; transition: all 0.3s ease;">
    </div>

    <div class="user-menu-container" style="position: relative;">
        <!-- User Menu Trigger is handled by global header logic usually, but here it's defined. -->
        <!-- However, dashboard_base.html usually includes header.html which has this. -->
        <!-- Ah, dashboard_base.html includes `components/header.html`. -->
        <!-- The files I am refactoring ALL have their own duplicated header code. -->
        <!-- I should REMOVE the header code if it's already in dashboard_base.html. -->
        <!-- dashboard_base.html line 24: {% include 'components/header.html' %} inside main-content-wrapper. -->
        <!-- So I should NOT re-declare the header. -->
        <!-- But these pages (achievements) have a SEARCH bar. -->
        <!-- component/header.html has a search bar? -->
    </div>
</header>
<!-- ... Wait. -->
<!-- I need to check components/header.html content. -->
<!-- If shared header has search, then I remove this local header. -->
<!-- If local header has specific search placeholder, I might lose that specific content. -->
<!-- But for now, consistency > specific search placeholder. -->
<!-- I will OMIT the header code here, assuming dashboard_base.html supplies it. -->
<!-- This is CRITICAL for the "Stable Surface" feel. -->

<div class="achievements-hero">
    <div>
        <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem;" id="userStatusTitle">Apprentice</h1>
        <p style="color: rgba(255,255,255,0.6);">You're making great progress! Keep pushing.</p>
    </div>
    <div class="xp-progress-container">
        <div class="xp-header">
            <span>XP Progress</span>
            <span id="xpText">450 / 1000 XP</span>
        </div>
        <div class="xp-bar-bg">
            <div class="xp-bar-fill" id="xpBarFill" style="width: 45%;"></div>
        </div>
    </div>
    <div class="level-badge-large">
        <span class="level-number" id="levelNum">4</span>
        <span class="level-label">Level</span>
    </div>
</div>

<div class="stats-summary">
    <div class="stat-box">
        <div class="stat-icon-sm"><i class="fas fa-award"></i></div>
        <div>
            <h4 style="font-size: 1.2rem;" id="badgeCount">--</h4>
            <p style="font-size: 0.8rem; opacity: 0.5;">Badges Earned</p>
        </div>
    </div>
    <div class="stat-box">
        <div class="stat-icon-sm"><i class="fas fa-fire"></i></div>
        <div>
            <h4 style="font-size: 1.2rem;">7 Days</h4>
            <p style="font-size: 0.8rem; opacity: 0.5;">Longest Streak</p>
        </div>
    </div>
    <div class="stat-box">
        <div class="stat-icon-sm"><i class="fas fa-bolt"></i></div>
        <div>
            <h4 style="font-size: 1.2rem;">Top 15%</h4>
            <p style="font-size: 0.8rem; opacity: 0.5;">Leaderboard Rank</p>
        </div>
    </div>
</div>

<h2 style="margin-bottom: 2rem;">Milestone Badges</h2>
<div class="badge-grid" id="badgeGrid">
    <!-- Badges rendered by JS -->
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/js/achievements.js"></script>
{% endblock %}